<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>tmux + Terminator Workflow | Neetordy&#39;s Wonderland</title>
  <meta name="author" content="Evan Zhang">
  
  <meta name="description" content="Are you the girl named Alice?">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="tmux + Terminator Workflow"/>
  <meta property="og:site_name" content="Neetordy&#39;s Wonderland"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link rel="alternate" href="/atom.xml" title="Neetordy&#39;s Wonderland" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <!-- wumiiVerification -->
  <meta name="wumiiVerification" content="fb50a101-84fe-4ca2-91a7-ae8cf792978b" />
  <meta name="wumiiVerification" content="d73b5866-c390-4156-a4dd-51b526b5335e" />
  <!-- favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!-- Font-Awesome -->
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

</head>

<body>
  <header id="header"><div class= "header-content inner">
	<div class = "alignleft col-one">
		
			<div class='avatar'>
				<img src = "/img/default/hare_march.png">
              </div>
		
		<div class="header-div">
		    <h1><a href="/">Neetordy&#39;s Wonderland</a></h1>
		    <h2><a href="/">Are you the girl named Alice?</a></h2>
		</div>
	</div>
	<div class = "alignright col-two">
		
	</div>
	<div class="clearfix"></div>
</div>

<div class= "header-nav">
	<div class='header-nav-content inner'>
		<div id="main-nav" class="alignleft">
		    		
		    		  <a href="/"><i class="fa fa-home"></i>Home</a>
		    		
		    		  <a href="/archives"><i class="fa fa-archive"></i>Archives</a>
		    		
		    		  <a href="/resume"><i class="fa fa-user"></i>About</a>
		    		
		</div>
		<div id="sub-nav" class="alignright">
		    
		      <a href="/atom.xml"><i class="fa fa-rss"></i>Rss</a>
		    
		      <a href="/customization"><i class="fa fa-question-circle"></i>Customization</a>
		    
		</div>
	</div>
	<div class="clearfix"></div>
</div>
</header>
  
    <div id="content" class="inner">
      <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
        <div class="icon"></div>
        
        <time datetime="2017-03-14T03:00:10.000Z"><a href="/2017/03/14/tmux-Terminator-Workflow/">2017-03-14</a></time>
        
  
    <h1 class="title">tmux + Terminator Workflow</h1>
  

    </header>

    <div class="entry">
      
        
    <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sreenshot"><span class="toc-text">Sreenshot</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-tmux-configuration"><span class="toc-text">1. tmux configuration</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-tmux-auto-layout"><span class="toc-text">2. tmux auto layout</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Terminator-configuration"><span class="toc-text">3. Terminator configuration</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Auto-start-tmux-and-load-layout-in-Terminator"><span class="toc-text">Auto start tmux and load layout in Terminator</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Change-theme"><span class="toc-text">Change theme</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-In-zsh-way"><span class="toc-text">4. In zsh way</span></a>
    </div>

        <p>tmux and Terminator are two important shell tools in Linux, companied with zsh, the shell workflow will be much efficient and friendly.</p>
<h3 id="Sreenshot"><a href="#Sreenshot" class="headerlink" title="Sreenshot"></a>Sreenshot</h3><p><img src="/images/Screenshot.png" alt=""></p>
<a id="more"></a>
<h2 id="1-tmux-configuration"><a href="#1-tmux-configuration" class="headerlink" title="1. tmux configuration"></a>1. tmux configuration</h2><p>Download configuration from Github:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd</div><div class="line">git clone https://github.com/gpakosz/.tmux.git</div><div class="line">ln -s -f .tmux/.tmux.conf</div><div class="line">cp .tmux/.tmux.conf.local</div></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="2-tmux-auto-layout"><a href="#2-tmux-auto-layout" class="headerlink" title="2. tmux auto layout"></a>2. tmux auto layout</h2><p>creat layout.sh in ~/.tmux and paste following codes:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">!/bin/bash</div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># tumx layout configuration</span></div><div class="line"></div><div class="line"><span class="comment"># zsh compatibility</span></div><div class="line"><span class="built_in">export</span> DISABLE_AUTO_TITLE=<span class="string">"true"</span></div><div class="line"></div><div class="line">session = <span class="variable">$USER</span></div><div class="line"></div><div class="line">tmux has-session -t <span class="variable">$session</span></div><div class="line"><span class="keyword">if</span> [ $? = 0  ];<span class="keyword">then</span></div><div class="line">    tmux attach-session -t <span class="variable">$session</span></div><div class="line">    <span class="built_in">exit</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line">tmux new-session <span class="_">-d</span> <span class="_">-s</span> <span class="variable">$session</span> -n home</div><div class="line">tmux send-keys -t <span class="variable">$session</span>:1 <span class="string">'cd ~'</span> C-m    <span class="comment"># Enter HOME path</span></div><div class="line">tmux new-window -t <span class="variable">$session</span>:2 -n edit vi</div><div class="line">tmux new-window -t <span class="variable">$session</span>:3 -n zsh</div><div class="line">tmux new-window -t <span class="variable">$session</span>:4 -n SSH</div><div class="line">tmux send-keys -t <span class="variable">$session</span>:4 <span class="string">"ssh root@"</span> C<span class="_">-e</span> C-m    <span class="comment"># Auto fill the ssh server used in the last time</span></div><div class="line"></div><div class="line">tmux split-window -t <span class="variable">$session</span>:3 -h</div><div class="line">tmux select-window -t <span class="variable">$session</span>:1</div><div class="line">tmux attach-session -t <span class="variable">$session</span></div></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="3-Terminator-configuration"><a href="#3-Terminator-configuration" class="headerlink" title="3. Terminator configuration"></a>3. Terminator configuration</h2><ul>
<li><h4 id="Auto-start-tmux-and-load-layout-in-Terminator"><a href="#Auto-start-tmux-and-load-layout-in-Terminator" class="headerlink" title="Auto start tmux and load layout in Terminator"></a>Auto start tmux and load layout in Terminator</h4><p>Preference - Profiles - Command - Custom command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">([[ <span class="_">-f</span> <span class="string">"<span class="variable">$TMUX</span>"</span> ]] &amp;&amp; tmux -2 -c <span class="string">"zsh ~/.tmux/1.sh "</span> -S <span class="variable">$TMUX</span>) || (TMUX=<span class="string">""</span> tmux -2 -c <span class="string">"zsh ~/.tmux/1.sh"</span>)</div></pre></td></tr></table></figure>
</li>
<li><h4 id="Change-theme"><a href="#Change-theme" class="headerlink" title="Change theme"></a>Change theme</h4><p>open ~/.config/terminator/config<br>find line &quot;palette =&quot;, replace with this line:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">palette = &quot;#2d2d2d:#f2777a:#99cc99:#ffcc66:#6699cc:#cc99cc:#66cccc:#d3d0c8:#747369:#f2777a:#99cc99:#ffcc66:#6699cc:#cc99cc:#66cccc:#f2f0ec&quot;</div></pre></td></tr></table></figure>
<p>Finally, select a color or image you like in Preference - Profiles - Backgroud<br>&quot;Transparent backgound&quot; option is highly recommanded</p>
</li>
</ul>
<h2 id="4-In-zsh-way"><a href="#4-In-zsh-way" class="headerlink" title="4. In zsh way"></a>4. In zsh way</h2><p>Add this configuration to .zshrc:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># tmux auto-start and configuration</span></div><div class="line"><span class="function"><span class="title">tmux_init</span></span>()</div><div class="line">&#123;</div><div class="line">    session = <span class="variable">$USER</span></div><div class="line">    tmux new-session <span class="_">-d</span> <span class="_">-s</span> <span class="variable">$session</span> -n home</div><div class="line">    tmux send-keys -t <span class="variable">$session</span>:1 <span class="string">'cd ~'</span> C-m</div><div class="line">    tmux new-window -t <span class="variable">$session</span>:2 -n edit vi</div><div class="line">    tmux new-window -t <span class="variable">$session</span>:3 -n zsh</div><div class="line">    tmux new-window -t <span class="variable">$session</span>:4 -n SSH</div><div class="line">    tmux send-keys -t <span class="variable">$sesstio</span>:4 <span class="string">'ssh root@'</span> C<span class="_">-e</span> C-m</div><div class="line"></div><div class="line">    tmux split-window -t <span class="variable">$session</span>:3 -h</div><div class="line">    tmux select-window -t <span class="variable">$session</span>:1</div><div class="line">    tmux -2 attach-session <span class="_">-d</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Detect existing tmux sesstion, if not, creat one</span></div><div class="line"><span class="keyword">if</span> <span class="built_in">which</span> tmux 2&gt;&amp;1 &gt;/dev/null; <span class="keyword">then</span></div><div class="line"><span class="built_in">test</span> -z <span class="string">"<span class="variable">$TMUX</span>"</span> &amp;&amp; (tmux attach || tmux_init)</div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># Enable 256-color in xterm-based terminal and Linux console</span></div><div class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$TERM</span>"</span> = <span class="string">"linux"</span> ]; <span class="keyword">then</span></div><div class="line">    <span class="built_in">alias</span> fbterm=<span class="string">'LANG=zh_CN.UTF-8 fbterm'</span></div><div class="line">    <span class="built_in">export</span> TERM=fbterm</div><div class="line">    fbterm -- tmux</div><div class="line"><span class="keyword">else</span></div><div class="line">    <span class="built_in">export</span> TERM=<span class="string">'screen-256color'</span></div><div class="line">    <span class="comment"># forbid touchpad when I'm typing</span></div><div class="line">    <span class="keyword">if</span> [ <span class="string">"none`pgrep syndaemon`"</span> = <span class="string">"none"</span> ]; <span class="keyword">then</span></div><div class="line">        syndaemon -i 1 -K <span class="_">-d</span></div><div class="line">    <span class="keyword">fi</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"><span class="comment"># xrdb command makes xterm configuration take effect</span></div><div class="line"><span class="built_in">alias</span> xterm=<span class="string">'xrdb ~/.Xdefaults &amp;&amp; xterm -e tmux</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer>
      
        
        
  <div class="tags">
    <a href="/tags/code/">code</a>, <a href="/tags/life/">life</a>
  </div>

        <div class = "counter">
    <span id="busuanzi_container_page_pv" style="display:none">
        This page has been viewed&nbsp<span id="busuanzi_value_page_pv"></span>&nbsptimes
    </span>
</div>

        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

  
<section id = "relate">
	
</section>


  
    <section id="comment">
    <!--   <h1 class="title">Comments</h1> -->
    
    
        <!-- 多说评论框 start -->
        <div class="ds-thread" data-thread-key="2017/03/14/tmux-Terminator-Workflow/" data-title="tmux + Terminator Workflow" data-url="http://neetordy.com/2017/03/14/tmux-Terminator-Workflow/"></div>
        <!-- 多说评论框 end -->
        <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
        <script type="text/javascript">
        var duoshuoQuery = {short_name:"neetordy"};
          (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] 
             || document.getElementsByTagName('body')[0]).appendChild(ds);
          })();
          </script>
        <!-- 多说公共JS代码 end -->

      
    </section>




</div></div>
      <aside id="sidebar" class="alignright">
   <div class="search">
  <form action="/search/index.html" method="get" accept-charset="utf-8">
<!--     <input type="search" name="wd"results="0" placeholder="Search">
    <input type="hidden" name="wd" value="site:neetordy.com"> -->
     <input type="text" id="search" class="st-default-search-input" placeholder="Search" style="height: 100%" />
  </form>
</div> 

   


  <div class="widget tag">
  <h3 class="title">Calendar</h3>
  <div id="calendar"></div>
</div>


  
  <div class="widget tag">
    <h3 class="title">Related links</h3>
      <ul class="entry">
        
          <li class='link'><a href='http://photos.neeotordy.com'>My Gallery</a></li>
        
      </ul>
  </div>



  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Game/">Game</a><small>0</small></li>
  
    <li><a href="/tags/Read/">Read</a><small>1</small></li>
  
    <li><a href="/tags/code/">code</a><small>1</small></li>
  
    <li><a href="/tags/life/">life</a><small>1</small></li>
  
  </ul>
</div>



  
  <div class="widget tag">
    <h3 class="title">Archives</h3>
	<ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017 - 03</a><span class="archive-list-count">4</span></li></ul>
  </div>


</aside>
      <div class="clearfix"></div>
    </div>
  
  <footer id="footer"><div class="footer-content inner">
  <div class="alignleft">
  
    &copy; 2017 Evan Zhang
    
  </div>
  <div class="alignright">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme
    <a href="https://github.com/pengloo53/Hexo-theme-light_cn">light_cn</a>
  </div>
  
  <div class="visit">
    <span id="busuanzi_value_site_pv"></span> views in total
  </div>
  
  <div class="clearfix"></div>
</div>
</footer>
  <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<!-- calendar widget -->

    <script src="/js/calendar.js"></script>
    <script src="/js/languages.js"></script>
    <script type="text/javascript">
     $(function() {
         
             $('#calendar').aCalendar('en-US',{single:undefined, root:'calendar'});
         
     });
    </script>


<!-- 『不蒜子』计数服务 -->
<script async src="http://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!-- wumii关联推荐 -->
<script type="text/javascript" src="http://widget.wumii.cn/ext/relatedItemsWidget"></script>

<!-- 百度推荐 -->

	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?9acf0cedd48dc53be256ede5a98c2aaa";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


<!-- 返回顶部 -->
<div id="toTop">
	<a href="#">▲</a>
	<a href="#footer">▼</a>
</div>

<!-- 站内搜索-Swiftype -->
<!-- <script type="text/javascript">
     (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
     (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
     e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
     })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
     
     _st('install','sC-iNFrvTTNtiXEVNwo1','2.0.0');
     </script> -->

<!-- fancybox -->

    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
    <script src="/fancybox/jquery.fancybox.pack.js"></script>
    <script type="text/javascript">
     (function($){
         $('.fancybox').fancybox();
     })(jQuery);
    </script>


<!-- Google fonts -->
<link href="https://fonts.googleapis.com/css?family=EB+Garamond|Libre+Baskerville" rel="stylesheet">

</body>
</html>
